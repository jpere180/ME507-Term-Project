<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 507: Mouse Droid: Src/pid_driver.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="MouseDroid-ROStickerBook.webp"/></td>
  <td id="projectalign">
   <div id="projectname">ME 507: Mouse Droid<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">This is a portfolio for the ME507 term project. This objective of this project is to develop a line following robot that mimics the behavior of the Star Wars mouse droid, also known as MSE-6. This droid utilizes a line following array sensor, a ultrasonic sensor, and a speaker.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pid_driver.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>: PID driver  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;pid_driver.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9917038fb39fab261c26d8f1f52b765d" id="r_a9917038fb39fab261c26d8f1f52b765d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9917038fb39fab261c26d8f1f52b765d">INTEGRAL_GAIN_MAX</a>&#160;&#160;&#160;2000000</td></tr>
<tr class="separator:a9917038fb39fab261c26d8f1f52b765d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ded3bab320b6ac387798d39189fb505" id="r_a2ded3bab320b6ac387798d39189fb505"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ded3bab320b6ac387798d39189fb505">PID_MAX</a>&#160;&#160;&#160;8000</td></tr>
<tr class="separator:a2ded3bab320b6ac387798d39189fb505"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6a14303ae93649d2f6c0ed9d74fc2197" id="r_a6a14303ae93649d2f6c0ed9d74fc2197"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a14303ae93649d2f6c0ed9d74fc2197">set_pid_gain</a> (<a class="el" href="struct_p_i_d___driver.html">PID_Driver</a> *pid_instance, float p, float i, float d)</td></tr>
<tr class="memdesc:a6a14303ae93649d2f6c0ed9d74fc2197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the PID gains.  <br /></td></tr>
<tr class="separator:a6a14303ae93649d2f6c0ed9d74fc2197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02829dd2b140917c9f218f826bca2016" id="r_a02829dd2b140917c9f218f826bca2016"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02829dd2b140917c9f218f826bca2016">reset_pid</a> (<a class="el" href="struct_p_i_d___driver.html">PID_Driver</a> *pid_instance)</td></tr>
<tr class="memdesc:a02829dd2b140917c9f218f826bca2016"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the PID gains and integral error.  <br /></td></tr>
<tr class="separator:a02829dd2b140917c9f218f826bca2016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f11e930c0e3ee79575cb26c4532945" id="r_a67f11e930c0e3ee79575cb26c4532945"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67f11e930c0e3ee79575cb26c4532945">apply_pid</a> (<a class="el" href="struct_p_i_d___driver.html">PID_Driver</a> *pid_instance, int16_t input_error, uint16_t sampling_rate)</td></tr>
<tr class="memdesc:a67f11e930c0e3ee79575cb26c4532945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the PID algorithm to compute the control output.  <br /></td></tr>
<tr class="separator:a67f11e930c0e3ee79575cb26c4532945"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>: PID driver </p>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2024 STMicroelectronics. All rights reserved.</p>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9917038fb39fab261c26d8f1f52b765d" name="a9917038fb39fab261c26d8f1f52b765d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9917038fb39fab261c26d8f1f52b765d">&#9670;&#160;</a></span>INTEGRAL_GAIN_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INTEGRAL_GAIN_MAX&#160;&#160;&#160;2000000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum allowable value for the integral gain. </p>

</div>
</div>
<a id="a2ded3bab320b6ac387798d39189fb505" name="a2ded3bab320b6ac387798d39189fb505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ded3bab320b6ac387798d39189fb505">&#9670;&#160;</a></span>PID_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PID_MAX&#160;&#160;&#160;8000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum allowable output value from the PID controller. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a67f11e930c0e3ee79575cb26c4532945" name="a67f11e930c0e3ee79575cb26c4532945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f11e930c0e3ee79575cb26c4532945">&#9670;&#160;</a></span>apply_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apply_pid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d___driver.html">PID_Driver</a> *</td>          <td class="paramname"><span class="paramname"><em>pid_instance</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t</td>          <td class="paramname"><span class="paramname"><em>input_error</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>sampling_rate</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the PID algorithm to compute the control output. </p>
<p>Applies the PID algorithm.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid_instance</td><td>Pointer to <a class="el" href="struct_p_i_d___driver.html" title="PID Controller data structure.">PID_Driver</a> structure. </td></tr>
    <tr><td class="paramname">input_error</td><td>Current error (desired - measured). </td></tr>
    <tr><td class="paramname">sampling_rate</td><td>Rate at which the PID algorithm is executed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a02829dd2b140917c9f218f826bca2016" name="a02829dd2b140917c9f218f826bca2016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02829dd2b140917c9f218f826bca2016">&#9670;&#160;</a></span>reset_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_pid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d___driver.html">PID_Driver</a> *</td>          <td class="paramname"><span class="paramname"><em>pid_instance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the PID gains and integral error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid_instance</td><td>Pointer to <a class="el" href="struct_p_i_d___driver.html" title="PID Controller data structure.">PID_Driver</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a14303ae93649d2f6c0ed9d74fc2197" name="a6a14303ae93649d2f6c0ed9d74fc2197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a14303ae93649d2f6c0ed9d74fc2197">&#9670;&#160;</a></span>set_pid_gain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_pid_gain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d___driver.html">PID_Driver</a> *</td>          <td class="paramname"><span class="paramname"><em>pid_instance</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>p</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>i</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the PID gains. </p>
<p>Sets the PID gains.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid_instance</td><td>Pointer to <a class="el" href="struct_p_i_d___driver.html" title="PID Controller data structure.">PID_Driver</a> structure. </td></tr>
    <tr><td class="paramname">p</td><td>Proportional gain. </td></tr>
    <tr><td class="paramname">i</td><td>Integral gain. </td></tr>
    <tr><td class="paramname">d</td><td>Derivative gain. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
